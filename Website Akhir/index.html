<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beranda - Edukasi Keamanan Internet</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/responsive.css">
</head>
<body>
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-background"></div>
        <div class="hero-content">
            <h1 class="hero-title">Portal Edukasi Keamanan Internet</h1>
            <p class="hero-subtitle">Materi Pembelajaran Keamanan Digital untuk Semua Usia</p>
            
            <!-- Progress Tracking -->
            <div class="material-section" style="max-width: 800px; margin: 3rem auto; background: var(--bg-card);">
                <h3>ğŸ“Š Progress Belajar Anda</h3>
                <div id="progress-tracker">
                    <!-- Progress akan di-load oleh JavaScript -->
                </div>
            </div>

            <!-- Menu Materi Grid -->
            <div class="features-grid">
                <div class="feature-card" onclick="openMaterial('tips-aman.html')">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Tips Aman Berinternet</h3>
                        <p>Panduan lengkap keamanan digital untuk melindungi diri online. Pelajari cara membuat password aman, menghindari phishing, dan menjaga privasi.</p>
                        <div class="progress-indicator">
                            <span>Progress: </span>
                            <div class="mini-progress-bar">
                                <div class="mini-progress-fill" data-material="tips-aman"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="feature-card" onclick="openMaterial('cyberbullying.html')">
                    <div class="feature-icon">
                        <i class="fas fa-users-slash"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Cyberbullying</h3>
                        <p>Pahami, cegah, dan atasi cyberbullying dengan strategi efektif. Pelajari tanda-tanda, dampak, dan cara melaporkan cyberbullying.</p>
                        <div class="progress-indicator">
                            <span>Progress: </span>
                            <div class="mini-progress-bar">
                                <div class="mini-progress-fill" data-material="cyberbullying"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="feature-card" onclick="openMaterial('tips-guru.html')">
                    <div class="feature-icon">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Panduan untuk Guru</h3>
                        <p>Strategi edukasi keamanan digital di lingkungan sekolah. Modul pembelajaran dan toolkit untuk pendidik.</p>
                        <div class="progress-indicator">
                            <span>Progress: </span>
                            <div class="mini-progress-bar">
                                <div class="mini-progress-fill" data-material="tips-guru"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="feature-card" onclick="openMaterial('quiz-hub.html')">
                    <div class="feature-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Pusat Kuis & Achievement</h3>
                        <p>Uji pengetahuan Anda dengan kuis interaktif dan kumpulkan achievement. Lihat ranking dan progress belajar.</p>
                        <div class="achievement-count">
                            <span id="achievement-score">0 Achievement</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Floating AI Assistant -->
    <div class="floating-ai-assistant" onclick="toggleAIChat()">
        <i class="fas fa-robot"></i>
    </div>

    <!-- AI Chat Popup -->
    <div id="aiChatPopup" class="ai-chat-popup">
        <div class="chat-popup-header">
            <h3>Asisten AI Keamanan Internet</h3>
            <button class="close-chat" onclick="toggleAIChat()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="chat-popup-messages" id="chatPopupMessages">
            <div class="ai-message">
                <p>ğŸ¤– <strong>Halo! Saya Asisten Keamanan Internet AI</strong></p>
                <p>Saya di sini untuk membantu Anda dengan berbagai masalah keamanan internet. Silakan pilih topik yang ingin Anda pelajari:</p>
            </div>
        </div>
        
        <!-- Hanya Button Suggestion, Tidak Ada Input Text -->
        <div class="chat-popup-suggestions">
            <div class="suggestion-buttons">
                <button class="suggestion-btn" onclick="sendSuggestionMessage('cyberbullying')">
                    ğŸš¨ Cyberbullying
                </button>
                <button class="suggestion-btn" onclick="sendSuggestionMessage('privasi')">
                    ğŸ”’ Privasi Online
                </button>
                <button class="suggestion-btn" onclick="sendSuggestionMessage('media sosial')">
                    ğŸ“± Media Sosial
                </button>
                <button class="suggestion-btn" onclick="sendSuggestionMessage('anak')">
                    ğŸ‘¶ Keamanan Anak
                </button>
                <button class="suggestion-btn" onclick="sendSuggestionMessage('lapor')">
                    ğŸ“ Cara Melaporkan
                </button>
            </div>
        </div>
    </div>

    <script src="scripts/progress.js"></script>
    <script>
        // Progress tracking
        class ProgressDisplay {
            constructor() {
                this.tracker = new ProgressTracker();
                this.displayProgress();
                this.updateMaterialProgress();
            }

            displayProgress() {
                const progress = this.tracker.getOverallProgress();
                const progressContainer = document.getElementById('progress-tracker');
                
                progressContainer.innerHTML = `
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; font-weight: bold; color: var(--primary); margin-bottom: 1rem;">
                            ${Math.round(progress.percentage)}%
                        </div>
                        <div class="progress-bar" style="margin: 1rem 0;">
                            <div class="progress-fill" style="width: ${progress.percentage}%"></div>
                        </div>
                        <p>${progress.completed} dari ${progress.total} materi selesai</p>
                        ${progress.percentage === 100 ? `
                            <div class="badge" style="background: var(--gradient-success); display: inline-block; padding: 0.5rem 1rem; border-radius: 20px; color: white; margin-top: 1rem;">
                                ğŸ‰ Selamat! Anda telah menyelesaikan semua materi!
                            </div>
                        ` : ''}
                    </div>
                `;
            }

            updateMaterialProgress() {
                const progress = this.tracker.getUserProgress();
                
                document.querySelectorAll('.mini-progress-fill').forEach(bar => {
                    const material = bar.dataset.material;
                    const materialProgress = progress[material] || {};
                    const width = materialProgress.completed ? 100 : materialProgress.quizCompleted ? 50 : 0;
                    bar.style.width = `${width}%`;
                    
                    // Update color based on progress
                    if (width === 100) {
                        bar.style.background = 'var(--success)';
                    } else if (width === 50) {
                        bar.style.background = 'var(--warning)';
                    } else {
                        bar.style.background = 'var(--bg-tertiary)';
                    }
                });

                // Update achievement count
                const achievementCount = Object.values(progress).filter(p => p.quizCompleted).length;
                const achievementElement = document.getElementById('achievement-score');
                if (achievementElement) {
                    achievementElement.textContent = `${achievementCount} Achievement`;
                }
            }
        }

        // Animasi saat halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            // Animasi untuk feature cards
            const featureCards = document.querySelectorAll('.feature-card');
            featureCards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('animate-in');
                }, index * 200);
            });

            // Initialize progress display
            new ProgressDisplay();
        });

        function openMaterial(url) {
            window.location.href = url;
        }

        function toggleAIChat() {
            const popup = document.getElementById('aiChatPopup');
            popup.classList.toggle('active');
        }

        function sendSuggestionMessage(topic) {
            const messagesContainer = document.getElementById('chatPopupMessages');
            
            // Tambahkan pesan user (hanya dari button)
            const userMessageDiv = document.createElement('div');
            userMessageDiv.className = 'user-message';
            
            // Tampilkan teks sesuai topic
            const topicTexts = {
                'cyberbullying': 'ğŸš¨ Tentang Cyberbullying',
                'privasi': 'ğŸ”’ Tentang Privasi Online', 
                'media sosial': 'ğŸ“± Tentang Media Sosial',
                'anak': 'ğŸ‘¶ Tentang Keamanan Anak',
                'lapor': 'ğŸ“ Cara Melaporkan'
            };
            
            userMessageDiv.innerHTML = `<p>${topicTexts[topic] || topic}</p>`;
            messagesContainer.appendChild(userMessageDiv);

            // Scroll ke bawah
            messagesContainer.scrollTop = messagesContainer.scrollHeight;

            // Simulasi AI thinking
            setTimeout(() => {
                const aiResponse = getAIResponse(topic);
                const aiMessageDiv = document.createElement('div');
                aiMessageDiv.className = 'ai-message';
                aiMessageDiv.innerHTML = `<p>${aiResponse}</p>`;
                messagesContainer.appendChild(aiMessageDiv);
                
                // Scroll ke bawah lagi
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, 1000);
        }

        function getAIResponse(topic) {
            // Respons AI hanya untuk topik yang direkomendasikan
            const responses = {
                'cyberbullying': `ğŸš¨ <strong>TENTANG CYBERBULLYING</strong><br><br>
Cyberbullying adalah perilaku berulang yang ditujukan untuk menakuti, membuat marah, atau mempermalukan seseorang melalui media digital.<br><br>
<strong>ğŸ“‹ YANG HARUS DILAKUKAN:</strong><br><br>
âœ… <strong>Simpan Bukti</strong><br>
â€¢ Screenshot pesan, komentar, atau konten yang menyinggung<br>
â€¢ Catat tanggal dan waktu kejadian<br>
â€¢ Simpan username pelaku<br><br>
âœ… <strong>Tindakan Langsung</strong><br>
â€¢ Blokir pelaku di semua platform<br>
â€¢ Gunakan fitur "Laporkan" di media sosial<br>
â€¢ Jangan membalas atau menanggapi<br><br>
âœ… <strong>Cari Bantuan</strong><br>
â€¢ Bicara dengan orang tua, guru, atau orang dewasa terpercaya<br>
â€¢ Hubungi TePSA: 1500 771<br>
â€¢ Konsultasi dengan guru BK/konselor sekolah<br><br>
âœ… <strong>Jaga Kesehatan Mental</strong><br>
â€¢ Ingat, ini bukan kesalahan Anda<br>
â€¢ Lakukan aktivitas yang menyenangkan<br>
â€¢ Ceritakan perasaan pada orang yang dipercaya<br><br>
<strong>ğŸ“ DARURAT: TePSA 1500 771 | WhatsApp: 081238888002</strong>`,

                'privasi': `ğŸ”’ <strong>TIPS MENJAGA PRIVASI ONLINE</strong><br><br>
<strong>ğŸ”‘ MANAJEMEN AKUN:</strong><br>
â€¢ Gunakan kata sandi kuat (minimal 8 karakter, kombinasi huruf, angka, simbol)<br>
â€¢ Aktifkan verifikasi dua langkah<br>
â€¢ Gunakan kata sandi berbeda untuk setiap akun penting<br><br>
<strong>ğŸ“± PENGATURAN MEDIA SOSIAL:</strong><br>
â€¢ Review pengaturan privasi secara berkala<br>
â€¢ Batasi siapa yang bisa melihat postingan Anda<br>
â€¢ Matikan lokasi/location sharing untuk postingan<br><br>
<strong>ğŸš« INFORMASI YANG TIDAK BOLEH DIBAGIKAN:</strong><br>
â€¢ Alamat rumah lengkap<br>
â€¢ Nomor telepon pribadi<br>
â€¢ Data rekening bank/kartu kredit<br>
â€¢ Password dan PIN<br>
â€¢ Foto KTP atau dokumen penting<br><br>
<strong>ğŸŒ BROWSING AMAN:</strong><br>
â€¢ Gunakan mode privat/incognito untuk browsing sensitif<br>
â€¢ Hati-hati dengan WiFi publik<br>
â€¢ Periksa URL website sebelum memasukkan data`,

                'media sosial': `ğŸ“± <strong>KEAMANAN MEDIA SOSIAL</strong><br><br>
<strong>ğŸ” SEBELUM MEMOSTING:</strong><br>
â€¢ Pikirkan: "Apakah konten ini aman dibagikan?"<br>
â€¢ Pertimbangkan: "Apa dampaknya 5 tahun lagi?"<br>
â€¢ Ingat: Sekali diinternet, selamanya diinternet<br><br>
<strong>âš™ï¸ PENGATURAN PRIVASI:</strong><br>
â€¢ Atur profil menjadi privat<br>
â€¢ Batasi yang bisa mengirimkan permintaan pertemanan<br>
â€¢ Review daftar teman secara berkala<br>
â€¢ Batasi yang bisa mengomentari postingan Anda<br><br>
<strong>ğŸ›¡ï¸ INTERAKSI AMAN:</strong><br>
â€¢ Hanya terima pertemanan dari orang yang dikenal<br>
â€¢ Waspada terhadap akun tidak dikenal yang mengirim pesan<br>
â€¢ Jangan klik link mencurigakan<br>
â€¢ Laporkan konten yang tidak pantas<br><br>
<strong>ğŸ“Š PENGATURAN YANG DISARANKAN:</strong><br>
â€¢ Matikan lokasi untuk postingan<br>
â€¢ Batasi informasi profil yang terlihat publik<br>
â€¢ Nonaktifkan tag otomatis<br>
â€¢ Review izin aplikasi secara berkala`,

                'anak': `ğŸ‘¶ <strong>KEAMANAN INTERNET UNTUK ANAK-ANAK</strong><br><br>
<strong>ğŸ›¡ï¸ UNTUK ORANG TUA:</strong><br>
â€¢ Gunakan parental control software<br>
â€¢ Buat aturan jelas tentang penggunaan internet<br>
â€¢ Ajarkan anak tentang privasi online<br>
â€¢ Monitor aktivitas online tanpa menginvasi privasi<br><br>
<strong>ğŸ“š UNTUK ANAK:</strong><br>
â€¢ Jangan bertemu dengan orang yang dikenal dari internet<br>
â€¢ Laporkan konten atau perilaku mencurigakan<br>
â€¢ Jangan bagikan password kepada siapapun<br>
â€¢ Bicara dengan orang tua jika merasa tidak nyaman<br><br>
<strong>âš™ï¸ PENGATURAN YANG DISARANKAN:</strong><br>
â€¢ Batasi screen time sesuai usia<br>
â€¢ Aktifkan safe search di browser<br>
â€¢ Gunakan kid-friendly browser<br>
â€¢ Review history browsing secara berkala<br><br>
<strong>ğŸ¯ TIPS PENDIDIKAN:</strong><br>
â€¢ Ajarkan konsep "digital footprint"<br>
â€¢ Latih anak untuk berpikir kritis terhadap konten online<br>
â€¢ Diskusikan contoh kasus yang sesuai usia<br>
â€¢ Bangun komunikasi terbuka tentang pengalaman online`,

                'lapor': `ğŸ“ <strong>CARA MELAPORKAN KONTEN TIDAK PANTAS</strong><br><br>
<strong>ğŸ“± PLATFORM MEDIA SOSIAL:</strong><br>
â€¢ <strong>Facebook/Instagram</strong>: Tap "Laporkan" pada postingan/komentar<br>
â€¢ <strong>Twitter</strong>: Klik "Laporkan Tweet" pada tweet yang menyinggung<br>
â€¢ <strong>TikTok</strong>: Tap "Laporkan" pada video atau komentar<br>
â€¢ <strong>WhatsApp</strong>: Blokir dan laporkan nomor tersebut<br><br>
<strong>ğŸ« DI SEKOLAH:</strong><br>
â€¢ Laporkan ke guru kelas atau guru BK<br>
â€¢ Sampaikan ke wali kelas<br>
â€¢ Gunakan mekanisme pelaporan yang disediakan sekolah<br><br>
<strong>ğŸ‘® INSTANSI RESMI:</strong><br>
â€¢ <strong>TePSA</strong>: 1500 771 (Telepon Pelayanan Sosial Anak)<br>
â€¢ <strong>Polisi</strong>: 110 (untuk kasus yang serius)<br>
â€¢ <strong>KPAI</strong>: Komisi Perlindungan Anak Indonesia<br><br>
<strong>ğŸ“ YANG PERLU DISIAPKAN:</strong><br>
â€¢ Screenshot bukti pelanggaran<br>
â€¢ URL/link konten yang dilaporkan<br>
â€¢ Username akun pelaku<br>
â€¢ Kronologi kejadian lengkap<br>
â€¢ Tanggal dan waktu insiden`
            };

            return responses[topic] || `ğŸ¤– <strong>TOPIK TIDAK DIKENALI</strong><br><br>Silakan pilih topik yang tersedia dari button di bawah.`;
        }

        // Close popup ketika klik di luar
        document.addEventListener('click', function(event) {
            const popup = document.getElementById('aiChatPopup');
            const assistant = document.querySelector('.floating-ai-assistant');
            
            if (popup.classList.contains('active') && 
                !popup.contains(event.target) && 
                !assistant.contains(event.target)) {
                popup.classList.remove('active');
            }
        });
    </script>
</body>
</html>